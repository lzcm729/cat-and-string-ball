[gd_scene load_steps=37 format=3 uid="uid://b0w6mv2us6hhb"]

[ext_resource type="Script" path="res://cat/Cat_new.gd" id="1_ivns0"]
[ext_resource type="Texture2D" uid="uid://dnc2oooilkpuu" path="res://cat/final_cat.png" id="2_ft51c"]
[ext_resource type="PackedScene" uid="uid://c0fr2eajw41q6" path="res://cat/component/animation_component.tscn" id="3_ycjgg"]
[ext_resource type="PackedScene" uid="uid://p1v2ehekli0j" path="res://cat/component/gravity_component.tscn" id="4_n2p5r"]
[ext_resource type="PackedScene" uid="uid://cxngxmghspqes" path="res://cat/component/input_component.tscn" id="5_ymwxj"]
[ext_resource type="PackedScene" uid="uid://buvqtqvjs7xyd" path="res://cat/component/movement_component.tscn" id="7_keotf"]
[ext_resource type="Script" path="res://cat/FSM.gd" id="8_v5hhk"]
[ext_resource type="Script" path="res://cat/State/Idle.gd" id="9_sk5vg"]
[ext_resource type="PackedScene" uid="uid://bhlxu1n4brs8g" path="res://cat/component/action_component.tscn" id="18_fgw5n"]

[sub_resource type="AtlasTexture" id="AtlasTexture_5sq7p"]
atlas = ExtResource("2_ft51c")
region = Rect2(1183, 0, 91, 57)

[sub_resource type="AtlasTexture" id="AtlasTexture_naijb"]
atlas = ExtResource("2_ft51c")
region = Rect2(1274, 0, 91, 57)

[sub_resource type="AtlasTexture" id="AtlasTexture_s34nv"]
atlas = ExtResource("2_ft51c")
region = Rect2(1365, 0, 91, 57)

[sub_resource type="AtlasTexture" id="AtlasTexture_rv1k8"]
atlas = ExtResource("2_ft51c")
region = Rect2(1456, 0, 91, 57)

[sub_resource type="AtlasTexture" id="AtlasTexture_8nf1m"]
atlas = ExtResource("2_ft51c")
region = Rect2(1547, 0, 91, 57)

[sub_resource type="AtlasTexture" id="AtlasTexture_h8ghe"]
atlas = ExtResource("2_ft51c")
region = Rect2(1638, 0, 91, 57)

[sub_resource type="AtlasTexture" id="AtlasTexture_4sq4g"]
atlas = ExtResource("2_ft51c")
region = Rect2(1729, 0, 91, 57)

[sub_resource type="AtlasTexture" id="AtlasTexture_q1nkv"]
atlas = ExtResource("2_ft51c")
region = Rect2(0, 0, 91, 57)

[sub_resource type="AtlasTexture" id="AtlasTexture_bptmg"]
atlas = ExtResource("2_ft51c")
region = Rect2(91, 0, 91, 57)

[sub_resource type="AtlasTexture" id="AtlasTexture_2o64u"]
atlas = ExtResource("2_ft51c")
region = Rect2(182, 0, 91, 57)

[sub_resource type="AtlasTexture" id="AtlasTexture_wxuac"]
atlas = ExtResource("2_ft51c")
region = Rect2(273, 0, 91, 57)

[sub_resource type="AtlasTexture" id="AtlasTexture_tql45"]
atlas = ExtResource("2_ft51c")
region = Rect2(910, 0, 91, 57)

[sub_resource type="AtlasTexture" id="AtlasTexture_btxlb"]
atlas = ExtResource("2_ft51c")
region = Rect2(1001, 0, 91, 57)

[sub_resource type="AtlasTexture" id="AtlasTexture_ile7r"]
atlas = ExtResource("2_ft51c")
region = Rect2(1092, 0, 91, 57)

[sub_resource type="AtlasTexture" id="AtlasTexture_t41uj"]
atlas = ExtResource("2_ft51c")
region = Rect2(364, 0, 91, 57)

[sub_resource type="AtlasTexture" id="AtlasTexture_wh8d5"]
atlas = ExtResource("2_ft51c")
region = Rect2(546, 0, 91, 57)

[sub_resource type="AtlasTexture" id="AtlasTexture_qkd6l"]
atlas = ExtResource("2_ft51c")
region = Rect2(637, 0, 91, 57)

[sub_resource type="AtlasTexture" id="AtlasTexture_j8x1d"]
atlas = ExtResource("2_ft51c")
region = Rect2(364, 0, 91, 57)

[sub_resource type="AtlasTexture" id="AtlasTexture_e265d"]
atlas = ExtResource("2_ft51c")
region = Rect2(455, 0, 91, 57)

[sub_resource type="AtlasTexture" id="AtlasTexture_h5n0y"]
atlas = ExtResource("2_ft51c")
region = Rect2(546, 0, 91, 57)

[sub_resource type="AtlasTexture" id="AtlasTexture_jbj0x"]
atlas = ExtResource("2_ft51c")
region = Rect2(637, 0, 91, 57)

[sub_resource type="AtlasTexture" id="AtlasTexture_51c1k"]
atlas = ExtResource("2_ft51c")
region = Rect2(728, 0, 91, 57)

[sub_resource type="AtlasTexture" id="AtlasTexture_nqxq6"]
atlas = ExtResource("2_ft51c")
region = Rect2(819, 0, 91, 57)

[sub_resource type="SpriteFrames" id="SpriteFrames_eitv2"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_5sq7p")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_naijb")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_s34nv")
}],
"loop": true,
"name": &"fall",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_rv1k8")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_8nf1m")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_h8ghe")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_4sq4g")
}],
"loop": false,
"name": &"hit",
"speed": 20.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_q1nkv")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_bptmg")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_2o64u")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_wxuac")
}],
"loop": true,
"name": &"idle",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_tql45")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_btxlb")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ile7r")
}],
"loop": true,
"name": &"jump",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_t41uj")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_wh8d5")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_qkd6l")
}],
"loop": true,
"name": &"run",
"speed": 7.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_j8x1d")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_e265d")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_h5n0y")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_jbj0x")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_51c1k")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_nqxq6")
}],
"loop": true,
"name": &"swim",
"speed": 3.0
}]

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_v3a83"]
radius = 19.0
height = 88.0

[sub_resource type="ConvexPolygonShape2D" id="ConvexPolygonShape2D_slokh"]
points = PackedVector2Array(0, 0, -80, -30, -120, -30, -120, 30, -80, 30)

[sub_resource type="ConvexPolygonShape2D" id="ConvexPolygonShape2D_n6ff0"]
points = PackedVector2Array(0, 0, 80, -30, 120, -30, 120, 30, 80, 30)

[node name="CatNew" type="CharacterBody2D" node_paths=PackedStringArray("input_component", "gravity_component", "movement_component", "action_component", "animation_component")]
collision_layer = 2
script = ExtResource("1_ivns0")
input_component = NodePath("InputComponent")
gravity_component = NodePath("GravityComponent")
movement_component = NodePath("MovementComponent")
action_component = NodePath("ActionComponent")
animation_component = NodePath("AnimationComponent")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
position = Vector2(-1.83671e-40, -27)
scale = Vector2(2.1568, 2.1568)
sprite_frames = SubResource("SpriteFrames_eitv2")
animation = &"swim"

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
rotation = 1.5708
shape = SubResource("CapsuleShape2D_v3a83")

[node name="InputComponent" parent="." instance=ExtResource("5_ymwxj")]

[node name="AnimationComponent" parent="." node_paths=PackedStringArray("sprite") instance=ExtResource("3_ycjgg")]
sprite = NodePath("../AnimatedSprite2D")

[node name="GravityComponent" parent="." instance=ExtResource("4_n2p5r")]

[node name="MovementComponent" parent="." instance=ExtResource("7_keotf")]
jump_velocity = -600.0

[node name="ActionComponent" parent="." node_paths=PackedStringArray("left_hit_cast", "right_hit_cast") instance=ExtResource("18_fgw5n")]
hit_force = Vector2(0, -50000)
left_hit_cast = NodePath("../LeftHitShapeCast")
right_hit_cast = NodePath("../RightHitShapeCast")

[node name="LeftHitShapeCast" type="ShapeCast2D" parent="."]
enabled = false
shape = SubResource("ConvexPolygonShape2D_slokh")
target_position = Vector2(0, 0)
collision_mask = 524

[node name="RightHitShapeCast" type="ShapeCast2D" parent="."]
enabled = false
shape = SubResource("ConvexPolygonShape2D_n6ff0")
target_position = Vector2(0, 0)
collision_mask = 524

[node name="FSM" type="Node" parent="." node_paths=PackedStringArray("initial_state")]
script = ExtResource("8_v5hhk")
initial_state = NodePath("Idle")

[node name="Idle" type="Node" parent="FSM"]
script = ExtResource("9_sk5vg")

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="."]
