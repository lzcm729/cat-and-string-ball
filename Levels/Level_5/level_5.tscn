[gd_scene load_steps=29 format=3 uid="uid://wq4prlmuphp3"]

[ext_resource type="PackedScene" uid="uid://dpqb8ih1u4omf" path="res://Levels/vacant_room.tscn" id="1_v2ohj"]
[ext_resource type="PackedScene" uid="uid://3iyqigiyk7np" path="res://Platform.tscn" id="2_2o3aw"]
[ext_resource type="Texture2D" uid="uid://dba5kflrktcnk" path="res://Levels/Level_5/level_5_wall.png" id="2_pxy77"]
[ext_resource type="Texture2D" uid="uid://dimfrnv0lm5b1" path="res://Levels/Level_5/level_5_chair.png" id="3_6b1v1"]
[ext_resource type="PackedScene" uid="uid://bl27o6gj46g03" path="res://Debris/Debris.tscn" id="3_ciewo"]
[ext_resource type="Texture2D" uid="uid://c40na1aede5e1" path="res://Levels/Level_5/level_5_cook.png" id="4_7ca7n"]
[ext_resource type="Texture2D" uid="uid://ma83bneojpuc" path="res://Debris/高脚杯/cup.png" id="4_at8n7"]
[ext_resource type="Texture2D" uid="uid://cx4xj1es38e02" path="res://Debris/高脚杯/cup_broke.png" id="5_r2h4m"]
[ext_resource type="Script" path="res://Levels/Level_5/Stove.gd" id="6_m7sr7"]
[ext_resource type="Texture2D" uid="uid://bc4w1qn3gyolh" path="res://Levels/Level_5/level_5_platform.png" id="6_mw33l"]
[ext_resource type="Script" path="res://Levels/Level_5/IgnitionButton.gd" id="8_aamd1"]
[ext_resource type="Texture2D" uid="uid://cwycmmy851euy" path="res://Levels/Level_5/level_5_fire1.png" id="9_mhjkc"]
[ext_resource type="PackedScene" uid="uid://b36bl5hadkdtm" path="res://StringBall/StringBall.tscn" id="10_c3l7r"]
[ext_resource type="Texture2D" uid="uid://djhf05btdgdkd" path="res://Levels/Level_5/level_5_fire.png" id="11_p7rym"]
[ext_resource type="PackedScene" uid="uid://dmrnndjc054qm" path="res://ChaosCore/ChaosCore.tscn" id="11_x170y"]
[ext_resource type="PackedScene" uid="uid://bn4481xl7jj4g" path="res://GUI/main_control.tscn" id="12_w0qob"]
[ext_resource type="Texture2D" uid="uid://472yx386cwxy" path="res://Levels/Level_5/level_5_btn_push.png" id="16_4hpew"]
[ext_resource type="Texture2D" uid="uid://h5g2flt1qk1k" path="res://Levels/Level_5/level_5_btn_norm.png" id="17_h5byr"]
[ext_resource type="Texture2D" uid="uid://cwdqo8fj1nq5y" path="res://Levels/Level_5/level_5_table.png" id="18_a8rdt"]
[ext_resource type="Texture2D" uid="uid://c38015m3xeuk8" path="res://Levels/Level_5/level_5_table2.png" id="19_51c5h"]
[ext_resource type="PackedScene" uid="uid://b0w6mv2us6hhb" path="res://cat/Cat_new.tscn" id="21_k41ey"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_5onvp"]
size = Vector2(130, 66)

[sub_resource type="AtlasTexture" id="AtlasTexture_2ejrs"]
atlas = ExtResource("11_p7rym")
region = Rect2(0, 0, 142, 62)

[sub_resource type="AtlasTexture" id="AtlasTexture_i638v"]
atlas = ExtResource("11_p7rym")
region = Rect2(142, 0, 142, 62)

[sub_resource type="SpriteFrames" id="SpriteFrames_3qvuh"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_2ejrs")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_i638v")
}],
"loop": true,
"name": &"default",
"speed": 8.0
}]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_lkk7f"]
size = Vector2(146, 8)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_gbec1"]
size = Vector2(85.9999, 8)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_nmjxg"]
size = Vector2(60, 17)

[node name="Level5" type="Node2D"]

[node name="vacant_room" parent="." instance=ExtResource("1_v2ohj")]

[node name="Level5Wall" type="Sprite2D" parent="."]
position = Vector2(640, 359)
texture = ExtResource("2_pxy77")

[node name="chair" type="Sprite2D" parent="."]
position = Vector2(228, 615)
texture = ExtResource("3_6b1v1")

[node name="chair" parent="chair" instance=ExtResource("2_2o3aw")]
position = Vector2(0, -59)
scale = Vector2(7.16, 1)

[node name="cook" type="Node2D" parent="."]
position = Vector2(725, 544)

[node name="Sprite2D" type="Sprite2D" parent="cook"]
texture = ExtResource("4_7ca7n")

[node name="platform" parent="cook" instance=ExtResource("2_2o3aw")]
position = Vector2(-0.999985, -138)
scale = Vector2(17.888, 0.643575)

[node name="table" parent="cook" instance=ExtResource("2_2o3aw")]
visible = false
position = Vector2(-1, 7)
scale = Vector2(17.88, 13.8848)

[node name="glass" type="Node2D" parent="."]
position = Vector2(156, 254)

[node name="高脚杯" parent="glass" groups=["Debris"] instance=ExtResource("3_ciewo")]
position = Vector2(-1, -57)
metadata/_edit_group_ = true

[node name="Normal" parent="glass/高脚杯" index="0"]
texture = ExtResource("4_at8n7")

[node name="Broken" parent="glass/高脚杯" index="1"]
texture = ExtResource("5_r2h4m")

[node name="CollisionShape2D" parent="glass/高脚杯" index="2"]
position = Vector2(0, 4)

[node name="高脚杯4" parent="glass" groups=["Debris"] instance=ExtResource("3_ciewo")]
position = Vector2(791, 113)
metadata/_edit_group_ = true

[node name="Normal" parent="glass/高脚杯4" index="0"]
texture = ExtResource("4_at8n7")

[node name="Broken" parent="glass/高脚杯4" index="1"]
texture = ExtResource("5_r2h4m")

[node name="CollisionShape2D" parent="glass/高脚杯4" index="2"]
position = Vector2(0, 4)

[node name="高脚杯5" parent="glass" groups=["Debris"] instance=ExtResource("3_ciewo")]
position = Vector2(848, 113)
metadata/_edit_group_ = true

[node name="Normal" parent="glass/高脚杯5" index="0"]
texture = ExtResource("4_at8n7")

[node name="Broken" parent="glass/高脚杯5" index="1"]
texture = ExtResource("5_r2h4m")

[node name="CollisionShape2D" parent="glass/高脚杯5" index="2"]
position = Vector2(0, 4)

[node name="高脚杯2" parent="glass" groups=["Debris"] instance=ExtResource("3_ciewo")]
position = Vector2(71, -57)
metadata/_edit_group_ = true

[node name="Normal" parent="glass/高脚杯2" index="0"]
texture = ExtResource("4_at8n7")

[node name="Broken" parent="glass/高脚杯2" index="1"]
texture = ExtResource("5_r2h4m")

[node name="CollisionShape2D" parent="glass/高脚杯2" index="2"]
position = Vector2(0, 4)

[node name="高脚杯3" parent="glass" groups=["Debris"] instance=ExtResource("3_ciewo")]
position = Vector2(-81, -57)
metadata/_edit_group_ = true

[node name="Normal" parent="glass/高脚杯3" index="0"]
texture = ExtResource("4_at8n7")

[node name="Broken" parent="glass/高脚杯3" index="1"]
texture = ExtResource("5_r2h4m")

[node name="CollisionShape2D" parent="glass/高脚杯3" index="2"]
position = Vector2(0, 4)

[node name="platform" type="Sprite2D" parent="glass"]
texture = ExtResource("6_mw33l")

[node name="StaticBody2D2" parent="glass/platform" instance=ExtResource("2_2o3aw")]
position = Vector2(-4, -5)
scale = Vector2(15.32, 1.007)

[node name="table1" type="Sprite2D" parent="."]
position = Vector2(1088, 500)
texture = ExtResource("18_a8rdt")

[node name="table1" parent="table1" instance=ExtResource("2_2o3aw")]
position = Vector2(3, -81)
scale = Vector2(18.84, 1)

[node name="table2" type="Sprite2D" parent="."]
position = Vector2(442, 546)
texture = ExtResource("19_51c5h")

[node name="table1" parent="table2" instance=ExtResource("2_2o3aw")]
position = Vector2(-2, -125)
scale = Vector2(10.6, 1.16)

[node name="Stove" type="StaticBody2D" parent="."]
position = Vector2(724, 386)
script = ExtResource("6_m7sr7")

[node name="FireArea" type="Area2D" parent="Stove"]
position = Vector2(3, -27)
collision_layer = 0
collision_mask = 8
monitoring = false
metadata/_edit_group_ = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="Stove/FireArea"]
visible = false
position = Vector2(-1, -11)
shape = SubResource("RectangleShape2D_5onvp")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="Stove/FireArea"]
visible = false
sprite_frames = SubResource("SpriteFrames_3qvuh")
autoplay = "default"
frame_progress = 0.319158

[node name="Sprite2D" type="Sprite2D" parent="Stove"]
position = Vector2(-5.36442e-06, -2.86102e-05)
texture = ExtResource("9_mhjkc")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Stove"]
position = Vector2(0, 9)
shape = SubResource("RectangleShape2D_lkk7f")

[node name="IgnitionButton" type="StaticBody2D" parent="."]
position = Vector2(449, 402)
script = ExtResource("8_aamd1")

[node name="Sprite2D" type="Sprite2D" parent="IgnitionButton"]
position = Vector2(-6.10352e-05, 0)
texture = ExtResource("16_4hpew")

[node name="CollisionShape2D" type="CollisionShape2D" parent="IgnitionButton"]
position = Vector2(-3.05176e-05, 3)
shape = SubResource("RectangleShape2D_gbec1")

[node name="Area2D" type="Area2D" parent="IgnitionButton"]
collision_layer = 0
collision_mask = 2

[node name="CollisionShape2D" type="CollisionShape2D" parent="IgnitionButton/Area2D"]
position = Vector2(0.999939, -14.5)
shape = SubResource("RectangleShape2D_nmjxg")

[node name="Sprite2D" type="Sprite2D" parent="IgnitionButton/Area2D/CollisionShape2D"]
position = Vector2(-1, 7.5)
texture = ExtResource("17_h5byr")

[node name="StringBall" parent="." instance=ExtResource("10_c3l7r")]
position = Vector2(82, 633)

[node name="ChaosCore" parent="." instance=ExtResource("11_x170y")]
visible = false
position = Vector2(448, 64)

[node name="main_control" parent="." instance=ExtResource("12_w0qob")]
level_name = "关卡5"
level_id = 5
back_type = 2

[node name="CatNew" parent="." instance=ExtResource("21_k41ey")]
position = Vector2(300, 634)

[connection signal="body_entered" from="Stove/FireArea" to="Stove" method="_on_area_2d_body_entered"]
[connection signal="body_exited" from="Stove/FireArea" to="Stove" method="_on_area_2d_body_exited"]
[connection signal="turn_off_fire" from="IgnitionButton" to="Stove" method="_on_ignition_button_turn_off_fire"]
[connection signal="turn_on_fire" from="IgnitionButton" to="Stove" method="_on_ignition_button_turn_on_fire"]
[connection signal="body_entered" from="IgnitionButton/Area2D" to="IgnitionButton" method="_on_area_2d_body_entered"]
[connection signal="body_exited" from="IgnitionButton/Area2D" to="IgnitionButton" method="_on_area_2d_body_exited"]
[connection signal="show_chaos_core" from="StringBall" to="ChaosCore" method="_on_string_ball_show_chaos_core"]
[connection signal="cat_pat_ball" from="CatNew" to="main_control" method="_on_cat_cat_pat_ball"]
[connection signal="eat_core" from="CatNew" to="main_control" method="_on_cat_eat_core"]

[editable path="glass/高脚杯"]
[editable path="glass/高脚杯4"]
[editable path="glass/高脚杯5"]
[editable path="glass/高脚杯2"]
[editable path="glass/高脚杯3"]
